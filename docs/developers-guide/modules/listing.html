<!doctype html>
<html lang="en" class=" docs">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content>
<meta name="generator" content="SonicJs">
<meta name="version" content="0.7.6">
<link rel="icon" href="../../../assets/img/favicon.ico">
<title>Content List - Custom Modules | Kevant Technologies</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600&display=swap" rel="stylesheet">
<link rel="icon" href="../../../assets/img/favicon.ico">
<style>
        body,
        p,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: Lato,
            serif;
        }

        h1 {
            font-family: Roboto,
            serif;
        }
    </style>
<link href="../../../assets/css/combined-0.7.6.css" rel="stylesheet">
<script type="d47ef3607551e18be9d0f6c3-text/javascript">
          window.smartlook||(function(d) {
            var o=smartlook=function(){ o.api.push(arguments)},h=d.getElementsByTagName('head')[0];
            var c=d.createElement('script');o.api=new Array();c.async=true;c.type='text/javascript';
            c.charset='utf-8';c.src='https://rec.smartlook.com/recorder.js';h.appendChild(c);
            })(document);
            smartlook('init', '27453f61154d21329a82640d24877fb96f5a8eec');
        </script>
</head>
<body>
<input type="hidden" id="page-id" name="page-id" value="75aacfda-5da2-4bc4-8554-78717951750e">
<input type="hidden" id="sessionID" value="erSLkhm7bre7bCBRHB5hAYrfiQF1V3h6" />
<input type="hidden" id="theme" value="bootstrap5" />
<main>
<nav class="navbar navbar-dark bg-dark" aria-label="First navbar example">
<div class="container-fluid">
<a class="navbar-brand" href="../../../index.html">
<div style class="mr-md-auto">
<img src="https://sonicjscom.s3.us-west-1.amazonaws.com/sonicjs-logo.svg" alt width="120px" />
</div>
</a>
<a class="btn btn-outline-light github" href="https://github.com/lane711/sonicjs" target="_blank"><i class="bi bi-github me-2"></i> Github</a>
<a class="btn btn-outline-light demo" href="https://demo.sonicjs.com" target="_blank"><i class="bi bi-github me-2"></i> Demo</a>
<button class="navbar-toggler collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsExample01" aria-controls="navbarsExample01" aria-expanded="false" aria-label="Toggle navigation">
<span class="navbar-toggler-icon"></span>
</button>
<div class="navbar-collapse collapse text-end p-2" id="navbarsExample01">
<ul class="navbar-nav me-auto mb-2">
<li class="nav-item">
<a class="nav-link " aria-current="page" href="../../../index.html">Home</a>
</li>
<li class="nav-item">
<a class="nav-link " aria-current="page" href="../../../blog.html">Blog</a>
</li>
<li class="nav-item">
<a class="nav-link " aria-current="page" href="../../../docs.html">Docs</a>
</li>
<li class="nav-item">
<a class="nav-link " aria-current="page" href="../../../about.html">About</a>
</li>
<li class="nav-item">
<a class="nav-link " aria-current="page" href="../../../nodejs-cms-comparison.html">Compare</a>
</li>
<li class="nav-item">
<a class="nav-link " aria-current="page" href="../../../contact.html">Contact</a>
</li>
</ul>
</div>
</div>
</nav>
<div class="under-menu-spacer"></div>
<style>
.pb .css-8ecc8c31b06e{undefined}

.pb .overlay-8ecc8c31b06e{undefined}
</style><section data-id="1f57085f-aa8a-4c7f-bb21-8ecc8c31b06e" data-title="Section 1" class="jumbotron-fluid css-8ecc8c31b06e undefined undefined undefined position-relative"><div class="section-overlay overlay-8ecc8c31b06e undefined"><div class="container"><div class="row"><div class="col-md-3"><div class="module-template" style data-id="1e35bab3-b4bf-4a13-90df-6106d99a034f" data-module="TITLE" data-content-type="title" data-template-region="false" data-template-page="true"><h3 class="text-left mb-5 mt-0">SonicJs Docs
<a class="anchor" id="sonicjs-docs"></a>
</>
</div><div class="module-template" style data-id="347a18dc-ff2e-414a-b145-67aba3b9b575" data-module="MENU-ACCORDION" data-content-type="menu-accordion" data-template-region="false" data-template-page="true">
<nav id="accordian-menu" class="accordian-menu">
<a href="../../../docs.html" class="bold small text-uppercase mt-3 mb-1 level-1">Overview</a>
<nav class="nav flex-column font-sm">
<a class="pl-0 nav-item nav-link bold active level-2" href="../../../docs.html#special-sauce"><span>Special Sauce</span></a>


</nav>
<nav class="nav flex-column font-sm">
<a class="pl-0 nav-item nav-link bold active level-2" href="../../../docs.html#getting-started"><span>Getting Started</span></a>

<a class="pl-0 nav-item nav-link level-3" href="../../../docs.html#prerequisites"><span>Prerequisites</span></a>
<a class="pl-0 nav-item nav-link level-3" href="../../../docs.html#database-support"><span>Database Support</span></a>
<a class="pl-0 nav-item nav-link level-3" href="../../../docs.html#local-setup"><span>Local Setup</span></a>
<a class="pl-0 nav-item nav-link level-3" href="../../../docs.html#debugging"><span>Debugging</span></a>

</nav>
<nav class="nav flex-column font-sm">
<a class="pl-0 nav-item nav-link bold active level-2" href="../../features.html"><span>Features</span></a>


</nav>
<a href="../../demo-videos.html" class="bold small text-uppercase mt-3 mb-1 level-1">Demo Videos</a>
<a href="../../user-guide.html" class="bold small text-uppercase mt-3 mb-1 level-1">User Guide</a>
<nav class="nav flex-column font-sm">
<a class="pl-0 nav-item nav-link bold active level-2" href="../../user-guide.html#quick-start"><span>Quick Start</span></a>


</nav>
<nav class="nav flex-column font-sm">
<a class="pl-0 nav-item nav-link bold active level-2" href="../../user-guide/modules.html"><span>Modules</span></a>


</nav>
<nav class="nav flex-column font-sm">
<a class="pl-0 nav-item nav-link bold active level-2" href="../../user-guide/themes.html"><span>Themes</span></a>


</nav>
<a href="../../developers-guide.html" class="bold small text-uppercase mt-3 mb-1 level-1">Developer Guide</a>
<nav class="nav flex-column font-sm">
<a class="pl-0 nav-item nav-link bold active level-2" href="../../developers-guide.html#hooks"><span>Hooks</span></a>


</nav>
<nav class="nav flex-column font-sm">
<a class="pl-0 nav-item nav-link bold active level-2" href="../modules.html"><span>Modules</span></a>

<a class="pl-0 nav-item nav-link level-3" href="listing.html"><span>Listing</span></a>

</nav>
<nav class="nav flex-column font-sm">
<a class="pl-0 nav-item nav-link bold active level-2" href="../../developer-guide/database-connection.html"><span>Datbase</span></a>


</nav>
<nav class="nav flex-column font-sm">
<a class="pl-0 nav-item nav-link bold active level-2" href="../../developer-guide/data-model.html"><span>Data Model</span></a>


</nav>
<nav class="nav flex-column font-sm">
<a class="pl-0 nav-item nav-link bold active level-2" href="../../developer-guide/api-backend.html"><span>API - Backend</span></a>


</nav>
<nav class="nav flex-column font-sm">
<a class="pl-0 nav-item nav-link bold active level-2" href="../../developer-guide/api-front-end-graphql.html"><span>API - Frontend GraphQL</span></a>


</nav>
</nav></div></div><div class="col-md-9"><div class="module" style data-id="c6c5d6f6-5c86-4e88-b1b8-e02ad7fe7c79" data-module="TITLE" data-content-type="title" data-template-region="true" data-template-page="true"><h1 class="text-center mt-0">Listing Content
<a class="anchor" id="listing-content"></a>
</>
</div><div class="module" style data-id="9a7adad0-fb3b-4853-a8cd-015c9a89cafa" data-module="HTML" data-content-type="html" data-template-region="true" data-template-page="true"><p>Let's say you need to create a list of "services" or "available training courses" on your website/app. SonicJs is well suited for this task because the core module framework provides a strong collection of tools to allow you to build your own custom content type, manage the CRUD for the new content type via the backend UI, generate a view to display your list and place that view on a page(s).</p>
</div><div class="module" style data-id="0e2f9f88-c96b-47dd-a6a2-b73218918421" data-module="TITLE" data-content-type="title" data-template-region="true" data-template-page="true"><h2 class="text-center ">Creating a New Module
<a class="anchor" id="creating-a-new-module"></a>
</>
</div><div class="module" style data-id="e7bf9ced-7ac6-4728-9d33-a0fcb14f3ce2" data-module="ALERT" data-content-type="alert" data-template-region="true" data-template-page="true"><div class="alert alert-warning" role="alert">
<p>Warning - When creating new modules, run the app with "<strong>npm start</strong>" instead of "npm run dev" (which uses Nodemon) in order to prevent the app from restarting while the new module files are being generated.</p>
</div>
</div><div class="module" style data-id="40a57fa6-61a0-4443-a4a2-c1a3a311ac14" data-module="HTML" data-content-type="html" data-template-region="true" data-template-page="true"><p>In order to demonstrate how to generate a listing module, we'll create a list of "services" and place it on a page on our site. Let's walk-thru each step.</p><p>To get started, let's head over to the modules page in the back end:</p><ol><li><a href="http://localhost:3018/admin/modules">http://localhost:3018/admin/modules</a></li><li>Next, click "<strong>New Module</strong>"</li><li>Enter "Services" into the module title field</li><li>Click "<strong>Create Module</strong>"</li></ol>
</div><div class="module" style data-id="f3153bda-4ebe-4b4e-9f0c-2a7dac65c914" data-module="IMAGE" data-content-type="image" data-template-region="true" data-template-page="true"> <img width="100%" class src="https://sonicjscom.s3.us-west-1.amazonaws.com/NodeJs CMS add module .png" />
</div><div class="module" style data-id="64334cab-2517-4ea9-b1a2-f134935f7a13" data-module="HTML" data-content-type="html" data-template-region="true" data-template-page="true"><p>Head back to your module list page and make sure that the new module is now listed:</p><ol><li><a href="http://localhost:3018/admin/modules">http://localhost:3018/admin/modules</a></li><li>Click on "Services"</li></ol>
</div><div class="module" style data-id="26479d21-2f6e-4a6f-bd6b-7073a5c194f1" data-module="IMAGE" data-content-type="image" data-template-region="true" data-template-page="true"> <img width="100%" class src="https://sonicjscom.s3.us-west-1.amazonaws.com/NodeJs CMS Modules list.png" />
</div><div class="module" style data-id="3266dd78-3027-4381-817d-8f9ca098b29b" data-module="HTML" data-content-type="html" data-template-region="true" data-template-page="true"><p>Head back to your module list page and make sure that the new module is now listed:</p><ol><li><a href="http://localhost:3018/admin/modules">http://localhost:3018/admin/modules</a></li><li>Click on "Services"</li><li>Click "Edit" for the Services content type</li></ol>
</div><div class="module" style data-id="9c09bd75-9ba8-4c27-a075-abe3df71abf3" data-module="IMAGE" data-content-type="image" data-template-region="true" data-template-page="true"> <img width="100%" class src="https://sonicjscom.s3.us-west-1.amazonaws.com/NodeJs CMS module edit.png" />
</div><div class="module" style data-id="9c1af76e-6384-489a-bdbb-d43dcd7d100a" data-module="HTML" data-content-type="html" data-template-region="true" data-template-page="true"><p>Now its time to drag and drop the fields needed for our "Services" content type. Let's add a textbox for "title" and another textarea for "description". Do this by drag and dropping a "Text Field" from the left field types pain onto the main form canvas:</p>
</div><div class="module" style data-id="fe9500a2-4cb3-4abf-96a9-a47cdc310906" data-module="YOUTUBE" data-content-type="youtube" data-template-region="true" data-template-page="true"><iframe width="100%" height src="https://www.youtube.com/embed/BWER7MsTL5w" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div><div class="module" style data-id="73522f39-49b9-43e8-8192-d2395fbb9b3d" data-module="HTML" data-content-type="html" data-template-region="true" data-template-page="true"><p>Let's now switch gears for a minute and generate some content to work with. To do this:</p><ol><li>Visit the content page: <a href="http://localhost:3018/admin/content">http://localhost:3018/admin/content</a></li><li>Click "<strong>New Content</strong>"</li><li>Click "<strong>Services</strong>"</li><li>Add a Title and Description and click Submit</li><li>Repeat this process 1-2 more times to create another Services content instance.</li></ol>
</div><div class="module" style data-id="f45c6bc5-cbf0-40fd-8233-38fb77f77ef7" data-module="IMAGE" data-content-type="image" data-template-region="true" data-template-page="true"> <img width="100%" class src="https://sonicjscom.s3.us-west-1.amazonaws.com/NodeJs CMS New Content.png" />
</div><div class="module" style data-id="f4331ca3-7075-4eac-a003-91eb9f3ca009" data-module="HTML" data-content-type="html" data-template-region="true" data-template-page="true"><p>Next let's modify our middle tier code to pass a list of Services to our view.</p><p>Open the Service module service file located here:</p><p>[sonicjs root path]/server/modules/services/services/services-main-service.js</p>
</div><div class="module" style data-id="27d49458-e019-4166-b94c-002daee259ea" data-module="CODE-SNIPPET" data-content-type="code-snippet" data-template-region="true" data-template-page="true"><pre class><code class="language-javascript">var dataService &#x3D; require(&#x27;../../../services/data.service&#x27;);
var emitterService &#x3D; require(&#x27;../../../services/emitter.service&#x27;);
var globalService &#x3D; require(&#x27;../../../services/global.service&#x27;);

module.exports &#x3D; servicesMainService &#x3D; {

    startup: async function () {

        // This is boilerplate for proccessing the module inside of a column
        // You will rarely need to alter this
        emitterService.on(&#x27;beginProcessModuleShortCode&#x27;, async function (options) {

            if (options.shortcode.name &#x3D;&#x3D;&#x3D; &#x27;SERVICES&#x27;) {
                options.moduleName &#x3D; &#x27;services&#x27;;
                await moduleService.processModuleInColumn(options);
            }

        });

        // We want to get a list of all services
        // By default SonicJs will pass in the view settings, so we&#x27;ll extend the 
        // view model to include our list of services
        emitterService.on(&quot;postModuleGetData&quot;, async function (options) {
            if (options.shortcode.name &#x3D;&#x3D;&#x3D; &quot;SERVICES&quot;) {
              await servicesMainService.getServicesData(options);
            }
          });
    },

    //get all content of type &quot;services&quot;, sort it and send it to the view
    getServicesData: async function (options) {
   
        let list &#x3D; await dataService.getContentByType(&quot;services&quot;, options.req.sessionID);
        list &#x3D; list.sort((a, b) &#x3D;&gt; (a.title &gt; b.title) ? 1 : -1)

        options.viewModel.data.list &#x3D; list;
      },

}
</code></pre></div><div class="module" style data-id="1b88cbd4-53ce-4dfd-b511-db1ebd4b3991" data-module="HTML" data-content-type="html" data-template-region="true" data-template-page="true"><p>Let's update our view to loop thru our services and display them.</p><p>[sonicjs root path]/server/modules/services/services/services-main.hbs</p>
</div><div class="module" style data-id="59175ccd-42a9-49f6-8809-6abd182d9856" data-module="CODE-SNIPPET" data-content-type="code-snippet" data-template-region="true" data-template-page="true"><pre class><code class="language-html">{{#each data.list}}
  &lt;div class&#x3D;&quot;mb-6&quot;&gt;
    &lt;h3&gt;{{this.data.title}}&lt;/h3&gt;
    &lt;p&gt;{{this.data.description}}&lt;/p&gt;
  &lt;/div&gt;
{{/each}}</code></pre></div><div class="module" style data-id="45ca4752-14d5-40a3-a3da-9bfe2543963f" data-module="HTML" data-content-type="html" data-template-region="true" data-template-page="true"><p>One last step - we just need to drop our new module onto a page.</p><ol><li>Create a new page called "Services"</li><li>Add a new section by clicking "Add New Section"</li><li>Select the section by click on "Empty Column"</li><li>In the module drop down list, select Services:</li></ol>
</div><div class="module" style data-id="91c8dd8c-06e0-4b88-ad6c-f8ae300e2fed" data-module="IMAGE" data-content-type="image" data-template-region="true" data-template-page="true"> <img width="100%" class src="https://sonicjscom.s3.us-west-1.amazonaws.com/NodeJs CMS Add module to page.png" />
</div><div class="module" style data-id="a80a6bc5-9a49-4c2f-9295-2edd40f20b91" data-module="HTML" data-content-type="html" data-template-region="true" data-template-page="true"><p>The module setting right sidebar panel will show.</p><ol><li>Leave "Enabled" clicked</li><li>Click "Submit"</li></ol><p>You should now see our list of services on the page:</p>
</div><div class="module" style data-id="f9648ee6-b51e-49fc-bf65-336a9401c209" data-module="IMAGE" data-content-type="image" data-template-region="true" data-template-page="true"> <img width="100%" class src="https://sonicjscom.s3.us-west-1.amazonaws.com/NodeJs CMS Services page.png" />
</div><div class="module" style data-id="743d0ec6-32cc-4440-ae91-4ff1ce91fb43" data-module="HTML" data-content-type="html" data-template-region="true" data-template-page="true"><p>That's it. You have successfully built a listing module. The management of each service record is 100% managed by the back-end with no need to code out any admin pages.&nbsp;</p><p>Bonus Steps if you are up for a challenge and want to further explore the awesomeness of SonicJs module development:</p><ol><li>Add a new property for your Service content type, then add that property to the output of the view.</li><li>Add a numeric "sort" field to your Service content type, and sort based on that value</li><li>Add an image for each Service. You can explore how this is done in the blog module for a sample.</li><li>Add validations to the title and description fields by setting them as required</li><li>Change the description field to a WYSIWYG instead of a plain text area. You can explore how this is done in the blog module for a sample.</li><li>Expand on the "Services Settings" content type and use a new setting property in your services-main-service.js or service-main.hbs file.</li></ol>
</div></div></div></div></div></section>
</main>

<footer class="text-center text-lg-start bg-dark text-light footer">



<section class="copyright text-center p-4 mt-5">
© 2023 SonicJs. All Rights Reserved
</section>

</footer>

<script src="../../../assets/js/combined-0.7.6.js" type="d47ef3607551e18be9d0f6c3-text/javascript"></script><script src="../../../page-builder/js/page-builder.js" type="d47ef3607551e18be9d0f6c3-text/javascript"></script>
<script type="d47ef3607551e18be9d0f6c3-text/javascript">
            AOS.init();
        </script>
<script type="d47ef3607551e18be9d0f6c3-module" src="../../../server/themes/front-end/kevant/js/charts.js"></script>
<script src="../../../cdn-cgi/scripts/7d0fa10a/cloudflare-static/rocket-loader.min.js" data-cf-settings="d47ef3607551e18be9d0f6c3-|49" defer></script></body>
</html>